<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<h1>좋아요 수: <span id="likeCount">0</span></h1>
<button id="likeButton">좋아요</button>

<script src="script.js"></script>
</body>
<script>
  // 쿠키에서 좋아요 수 가져오기
  function getLikeCountFromCookie() {
    const cookieName = "likeCount";
    const cookieValue = document.cookie
      .split('; ')
      .find(row => row.startsWith(cookieName + '='))
      ?.split('=')[1];

    // 만약 쿠키에 좋아요 수가 없으면 0 반환
    return cookieValue ? parseInt(cookieValue) : 0;
  }

  // 쿠키에 좋아요 수 저장하기
  function setLikeCountToCookie(count) {
    const date = new Date();
    date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000)); // 쿠키 만료 기간 설정 (7일)
    const expires = "expires=" + date.toUTCString();
    document.cookie = "likeCount=" + count + ";" + expires + ";path=/";
  }

  // 페이지 로드 시 좋아요 수 초기화
  let likeCount = getLikeCountFromCookie();
  document.getElementById("likeCount").textContent = likeCount;

  // 좋아요 버튼 클릭 시 이벤트 처리
  document.getElementById("likeButton").addEventListener("click", function() {
    likeCount++;
    document.getElementById("likeCount").textContent = likeCount;
    setLikeCountToCookie(likeCount);
  });

</script>
</html>
